import{r as v,j as e}from"./ui-he1BrmUV.js";import{u as w}from"./useQuery-CqTfsp4Q.js";import{h as u,g as y,u as C,C as r,b as i,U as j,f as l,l as m,d as M,a as o,e as x,M as k,r as B,P as _}from"./index-DsOurtT6.js";import{f as z}from"./categories-KhEpuZy7.js";import{B as A}from"./badge-BH_9xXOh.js";import{C as E}from"./clipboard-list-BsgjD9D0.js";import{C as P}from"./clock-oLX9UjW2.js";import{E as $}from"./eye-Bjx50I7X.js";import{C as q}from"./calendar-CUzwJ-Qe.js";import{A as D}from"./award-D1WVdu0j.js";import"./vendor-D3F3s8fL.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=u("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=u("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);function G(){const{user:d}=y(),[,a]=C(),{data:t=[]}=w({queryKey:["/api/users",d?.id,"missions"],enabled:!!d}),n=v.useMemo(()=>{const s=t.filter(c=>c.status==="completed").length,p=t.filter(c=>c.status==="open"||c.status==="in_progress").length,N=t.filter(c=>c.status==="draft").length,h=t.reduce((c,f)=>c+(f.budget_value_cents||0),0)/100,b=t.length>0?h/t.length:0;return{totalMissions:t.length,completedMissions:s,activeMissions:p,draftMissions:N,totalBudget:h,averageBudget:b}},[t]);return d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:["Bonjour ",d.name," !"]}),e.jsx("p",{className:"text-gray-600",children:"Voici un aperçu de votre activité"})]}),e.jsxs(l,{onClick:()=>a("/create-mission"),className:"bg-blue-500 hover:bg-blue-600 text-white",children:[e.jsx(m,{className:"w-4 h-4 mr-2"}),"Nouvelle demande"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(r,{className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Demandes totales"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.totalMissions})]}),e.jsx(E,{className:"w-8 h-8 text-blue-500"})]})})}),e.jsx(r,{className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"En cours"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.activeMissions})]}),e.jsx(P,{className:"w-8 h-8 text-orange-500"})]})})}),e.jsx(r,{className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Terminées"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.completedMissions})]}),e.jsx(M,{className:"w-8 h-8 text-green-500"})]})})}),e.jsx(r,{className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Budget moyen"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.averageBudget>0?`€${Math.round(n.averageBudget)}`:"€0"})]}),e.jsx(g,{className:"w-8 h-8 text-purple-500"})]})})})]}),e.jsxs(r,{className:"mb-8 bg-white shadow-md",children:[e.jsx(o,{children:e.jsx(x,{className:"text-lg",children:"Actions rapides"})}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(l,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>a("/create-mission"),children:[e.jsx(m,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Nouvelle demande"})]}),e.jsxs(l,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>a("/missions"),children:[e.jsx($,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Mes demandes"})]}),e.jsxs(l,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>a("/marketplace"),children:[e.jsx(j,{className:"w-5 h-5 text-purple-500"}),e.jsx("span",{className:"text-sm",children:"Trouver des pros"})]}),e.jsxs(l,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>a("/messages"),children:[e.jsx(k,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:"text-sm",children:"Messages"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(r,{className:"bg-white shadow-md",children:[e.jsxs(o,{className:"flex flex-row items-center justify-between",children:[e.jsx(x,{className:"text-lg",children:"Mes demandes récentes"}),e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>a("/missions"),children:["Voir tout",e.jsx(L,{className:"w-4 h-4 ml-1"})]})]}),e.jsx(i,{children:t.length>0?e.jsx("div",{className:"space-y-4",children:t.slice(0,3).map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:s.title}),e.jsx(A,{className:`
                            ${s.status==="completed"?"bg-green-100 text-green-800":""}
                            ${s.status==="open"?"bg-blue-100 text-blue-800":""}
                            ${s.status==="in_progress"?"bg-orange-100 text-orange-800":""}
                            ${s.status==="draft"?"bg-gray-100 text-gray-800":""}
                          `,children:s.status==="completed"?"Terminée":s.status==="open"?"Ouverte":s.status==="in_progress"?"En cours":"Brouillon"})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"w-4 h-4"}),z(s.created_at)]}),s.budget_value_cents&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(g,{className:"w-4 h-4"}),"€",(s.budget_value_cents/100).toLocaleString()]})]}),e.jsx(l,{size:"sm",variant:"outline",onClick:()=>a(`/mission-detail/${s.id}`),children:"Voir"})]})]},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(B,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Aucune demande"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Publiez votre première demande pour trouver des professionnels"}),e.jsxs(l,{onClick:()=>a("/create-mission"),className:"bg-blue-500 hover:bg-blue-600 text-white",children:[e.jsx(m,{className:"w-4 h-4 mr-2"}),"Créer ma première demande"]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(r,{className:"bg-white shadow-md",children:[e.jsx(o,{children:e.jsx(x,{className:"text-lg",children:"Mon profil"})}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Profil complété"}),e.jsx("span",{children:"75%"})]}),e.jsx(_,{value:75,className:"h-2"})]}),e.jsx(l,{variant:"outline",size:"sm",className:"w-full",onClick:()=>a("/profile"),children:"Compléter mon profil"})]})})]}),e.jsxs(r,{className:"bg-gradient-to-br from-blue-50 to-purple-50 shadow-md",children:[e.jsx(o,{children:e.jsxs(x,{className:"text-lg flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5 text-blue-500"}),"Conseils"]})}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-white/70 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-700",children:"💡 Soyez précis"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Plus votre demande est détaillée, plus vous recevrez de propositions adaptées."})]}),e.jsxs("div",{className:"p-3 bg-white/70 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-700",children:"⏱️ Répondez rapidement"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Une réponse rapide améliore vos chances de trouver le bon professionnel."})]})]})})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:e.jsx(r,{className:"max-w-md w-full mx-4 shadow-lg",children:e.jsxs(i,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(j,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Connexion requise"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Connectez-vous pour accéder à votre tableau de bord"}),e.jsx(l,{onClick:()=>a("/"),className:"bg-blue-500 hover:bg-blue-600 text-white",children:"Retour à l'accueil"})]})})})}export{G as default};
