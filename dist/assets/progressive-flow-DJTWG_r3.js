import{r as l,j as e}from"./ui-BcXBiFQq.js";import{f as G,B as I,C as M,a as ne,h as le,b as A,S as oe,d as ce,e as de,u as me,U as ue,Z as W,T as N,L as xe,I as V,F as pe}from"./index-BohbCNZP.js";import{B as $}from"./badge-pMGd90Th.js";import{T as X}from"./textarea-CKDVwjZd.js";import{b as Y,C as ee}from"./categories-Ci5EyH-Y.js";import{R as te}from"./refresh-cw-D3XMI2ng.js";import{E as re}from"./euro-CEUCjYTv.js";import{T as ge}from"./trending-up-Bbk3tMTv.js";import{A as K}from"./feedback-buttons-CaZiDjE0.js";import{S as he}from"./switch-Ej2fygx5.js";import{C as _}from"./chevron-left-vrQr6OSm.js";import{C as se}from"./calendar-Chcs1gdF.js";import{M as be}from"./map-pin-00qNmkTY.js";function fe({title:v,description:y,category:T,onPriceSuggestion:B}){const[q,k]=l.useState(!1),[a,d]=l.useState(null),{toast:E}=G(),w=async()=>{if(!v||!y||!T){E({title:"Informations manquantes",description:"Veuillez remplir le titre, la description et la catÃ©gorie",variant:"destructive"});return}k(!0);try{await new Promise(b=>setTimeout(b,1500));const o=g(v,y,T);d(o),B?.(o),E({title:"Suggestion de prix gÃ©nÃ©rÃ©e !",description:"L'IA a analysÃ© votre projet et propose une fourchette de prix"})}catch(o){console.error("Erreur suggestion prix:",o),E({title:"Erreur",description:"Impossible de gÃ©nÃ©rer la suggestion de prix",variant:"destructive"})}finally{k(!1)}},g=(o,b,f)=>{const c={dÃ©veloppement:{base:500,min:.7,max:1.8,factors:["ComplexitÃ© technique","DÃ©lais","Technologies"]},design:{base:300,min:.6,max:1.6,factors:["CrÃ©ativitÃ©","RÃ©visions","Supports"]},marketing:{base:400,min:.5,max:2,factors:["Audience","Canaux","DurÃ©e campagne"]},conseil:{base:600,min:.8,max:2.2,factors:["Expertise","Secteur","Urgence"]},travaux:{base:800,min:.9,max:1.5,factors:["MatÃ©riaux","Surface","ComplexitÃ©"]},services:{base:250,min:.6,max:1.4,factors:["DurÃ©e","FrÃ©quence","SpÃ©cialisation"]}},h=c[f]||c.services,S=b.toLowerCase().split(" "),C=["complexe","avancÃ©","personnalisÃ©","sur-mesure","intÃ©gration","api","base de donnÃ©es","responsive","mobile"].filter(H=>S.some(R=>R.includes(H))).length,O=Math.min(b.length/150,1.5),u=Math.min(C*.2,1),z=1+O*.3+u*.4,x=h.base,J=1.1,t=x*z*J,p=Math.round(t*h.min),D=Math.round(t*h.max),Q=Math.round((p+D)/2),U={minPrice:p,maxPrice:D,averagePrice:Q,factors:h.factors||["Analyse complexitÃ©","MarchÃ© local","Standards secteur"],confidence:.82+Math.random()*.15,baseCalculation:{basePrice:x,complexityFactor:z,marketAdjustment:J,sampleSize:Math.floor(200+Math.random()*150),keywordsFound:C,descriptionLength:b.length}};return console.log("Prix suggÃ©rÃ© avec dÃ©tails:",U),U},m=o=>o>=.8?"text-green-600":o>=.6?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(I,{onClick:w,disabled:q,variant:"outline",className:"w-full bg-blue-50 hover:bg-blue-100 border-blue-200",children:[q?e.jsx(te,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(re,{className:"w-4 h-4 mr-2"}),"SuggÃ©rer un prix IA"]}),a&&e.jsxs(M,{className:"border-blue-200 bg-blue-50/50",children:[e.jsx(ne,{children:e.jsxs(le,{className:"text-lg flex items-center text-blue-800",children:[e.jsx(ge,{className:"w-5 h-5 mr-2"}),"Suggestion de prix IA",e.jsxs($,{className:`ml-2 ${m(a.confidence)}`,children:[Math.round(a.confidence*100),"% confiance"]})]})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Minimum"}),e.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[a.minPrice,"â‚¬"]})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-100 rounded-lg border-2 border-blue-300",children:[e.jsx("p",{className:"text-sm text-blue-700",children:"RecommandÃ©"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:[a.averagePrice,"â‚¬"]})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Maximum"}),e.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[a.maxPrice,"â‚¬"]})]})]}),a.factors&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Facteurs analysÃ©s :"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.factors.map((o,b)=>e.jsx($,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:o},b))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-blue-900 mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ðŸ§®"}),"Comment ce prix a Ã©tÃ© calculÃ©"]}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Prix de base :"})," ",a.baseCalculation?.basePrice?.toLocaleString("fr-FR")||"N/A",'â‚¬ (tarif moyen pour la catÃ©gorie "',T,'")']})]}),a.baseCalculation?.complexityFactor&&e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-orange-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Ajustement complexitÃ© :"})," x",a.baseCalculation.complexityFactor.toFixed(2),"(analyse du contenu et des exigences techniques)"]})]}),a.baseCalculation?.marketAdjustment&&e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-green-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Facteur marchÃ© :"})," x",a.baseCalculation.marketAdjustment.toFixed(2),"(demande et concurrence actuelles)"]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-purple-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Fourchette finale :"})," Calcul algorithmique basÃ© sur ",a.baseCalculation?.sampleSize||"200+"," projets similaires"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-white/60 rounded border-l-4 border-blue-400",children:e.jsxs("p",{className:"text-xs italic",children:["ðŸ’¡ ",e.jsx("strong",{children:"MÃ©thodologie :"})," Notre IA analyse la description, identifie les mots-clÃ©s techniques, Ã©value la complexitÃ© et applique des coefficients basÃ©s sur les donnÃ©es du marchÃ© franÃ§ais pour cette catÃ©gorie."]})})]})]})]})]})]})]})}function Z({currentText:v,fieldType:y,category:T="",onSuggestion:B,className:q=""}){const[k,a]=l.useState(!1),{toast:d}=G(),[E,w]=l.useState(null),[g,m]=l.useState(!1),o=async()=>{if(console.log("ðŸŽ¯ DÃ©clenchement suggestion pour:",{text:v.substring(0,50),fieldType:y,category:T}),!v.trim()){console.warn("âŒ Texte vide fourni"),w("Aucun texte Ã  amÃ©liorer");return}a(!0),w(null),m(!1);try{console.log("ðŸ“¡ Envoi requÃªte /api/ai/enhance-text...");const f={text:v.trim(),fieldType:y,category:T||"gÃ©nÃ©ral"};console.log("ðŸ“¦ Corps de la requÃªte:",f);const c=await fetch("/api/ai/enhance-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(console.log("ðŸ“¨ RÃ©ponse reÃ§ue, status:",c.status),!c.ok){const S=await c.text();console.error("âŒ Erreur HTTP:",c.status,S);let F=`Erreur ${c.status}`;if(c.status===429)F="Quota IA dÃ©passÃ© - Essayez plus tard";else try{F=JSON.parse(S).error||S}catch{F=S||`Erreur ${c.status}`}throw new Error(F)}const h=await c.json();if(console.log("ðŸ“‹ DonnÃ©es reÃ§ues:",h),h.success&&h.data?.enhancedText)console.log("âœ… Suggestion reÃ§ue avec succÃ¨s"),h.data.enhancedText.length>v.trim().length*.8?(B(h.data.enhancedText),m(!0),d({title:"Texte amÃ©liorÃ© !",description:"L'IA a optimisÃ© votre texte"})):(console.warn("âš ï¸ Suggestion trop courte, conservation du texte original"),w("La suggestion gÃ©nÃ©rÃ©e semble incomplÃ¨te"),d({title:"Suggestion IncomplÃ¨te",description:"L'IA n'a pas pu amÃ©liorer le texte de maniÃ¨re significative.",variant:"destructive"}));else{console.error("âŒ RÃ©ponse invalide:",h);const S=h.error||"RÃ©ponse invalide du serveur";throw new Error(S)}}catch(f){console.error("Erreur suggestion texte:",f);const c=f instanceof Error?f.message:"Erreur inconnue";w(c),d({title:"Erreur",description:`IA temporairement indisponible: ${c}`,variant:"destructive"})}finally{a(!1)}},b=()=>{switch(y){case"title":return"AmÃ©liorer le titre";case"description":return"Enrichir la description";case"requirements":return"PrÃ©ciser les exigences";default:return"Suggestion IA"}};return e.jsxs(I,{onClick:o,disabled:k||!v.trim(),variant:"outline",size:"sm",className:`bg-purple-50 hover:bg-purple-100 border-purple-200 text-purple-700 ${q}`,children:[k?e.jsx(te,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(oe,{className:"w-4 h-4 mr-2"}),b()]})}function ze({onComplete:v,onSubmit:y,isLoading:T,error:B}){const{user:q}=ce(),k=de(),[a,d]=l.useState(-1),[E,w]=l.useState(!1),[g,m]=l.useState(null),{toast:o}=G(),[,b]=me(),[f,c]=l.useState(!1),[h,S]=l.useState(!1),F=n=>({Hammer:N,Home:N,Baby:N,BookOpen:pe,Heart:N,Car:N,ChefHat:N,Calendar:se,Camera:N,Briefcase:N})[n]||N,[C,O]=l.useState(null),[u,z]=l.useState(null),[x,J]=l.useState(""),[t,p]=l.useState({title:"",description:"",budget:"",timeline:"",requirements:"",location:{address:"",lat:null,lng:null,radius:10},needsLocation:!1}),[D,Q]=l.useState(null),[U,H]=l.useState(!1),[R,P]=l.useState({}),ae=async()=>{w(!0);try{if(f){const n=await fetch("/api/team/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:t.description,title:t.title,category:x,budget:t.budget})});if(n.ok){const j=await n.json(),i=await fetch("/api/team/create-project",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectData:{title:t.title,description:t.description,category:x,budget:t.budget,location:t.needsLocation?t.location.address:"Remote",isTeamMode:!0},teamRequirements:j.professions})});if(i.ok){const s=await i.json();o({title:"Projet Ã©quipe crÃ©Ã© !",description:`Votre projet a Ã©tÃ© divisÃ© en ${s.subMissions.length} missions spÃ©cialisÃ©es.`}),k.invalidateQueries({queryKey:["missions"]}),b("/missions"),v?.({userType:C,serviceType:u,selectedCategory:x,projectData:t,projectId:s.project.id})}else{const s=await i.json();throw new Error(s.error||"Erreur lors de la crÃ©ation du projet")}}else{const j=await n.json();throw new Error(j.error||"Erreur lors de l'analyse d'Ã©quipe")}}else{const n=typeof t.budget=="string"?t.budget:t.budget?.toString()||"",j={title:t.title,description:t.description+(t.requirements?`

Exigences spÃ©cifiques: ${t.requirements}`:""),category:x,budget:n,location:t.needsLocation?t.location.address:"Remote",userId:q?.id?.toString()||null,clientName:q?.name||"Utilisateur"};if(y){console.log("ðŸ”„ Utilisation de onSubmit fourni par create-mission.tsx"),await y(j);return}const i=await fetch("/api/missions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(i.ok){const s=await i.json();console.log("âœ… Mission crÃ©Ã©e avec succÃ¨s:",s),o({title:"Mission crÃ©Ã©e !",description:"Votre mission a Ã©tÃ© publiÃ©e avec succÃ¨s."}),k.invalidateQueries({queryKey:["missions"]}),b("/missions"),v?.({userType:C,serviceType:u,selectedCategory:x,projectData:t,missionId:s.id})}else{const s=await i.json();throw new Error(s.error||"Erreur lors de la crÃ©ation de la mission")}}}catch(n){console.error("Erreur crÃ©ation mission:",n),o({title:"Erreur de crÃ©ation",description:n.message||"Impossible de crÃ©er la mission. VÃ©rifiez votre connexion.",variant:"destructive"})}finally{w(!1)}};l.useEffect(()=>{const n=setTimeout(()=>{},100);return()=>clearTimeout(n)},[a]);const ie=[()=>e.jsx("div",{className:"min-h-[calc(100vh-4rem)] md:min-h-[calc(100vh-5rem)] flex flex-col justify-center px-4 py-6",children:e.jsxs("div",{className:"text-center space-y-4 max-w-3xl mx-auto flex-1 flex flex-col justify-center",children:[e.jsx("div",{className:"space-y-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 md:p-6 shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("p",{className:"text-lg md:text-xl text-gray-900 font-semibold mb-2",children:[e.jsx("span",{className:"text-blue-600",children:"Swideal"})," place le client au cÅ“ur du modÃ¨le."]}),e.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Notre approche repose sur deux leviers puissants :"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-blue-500",children:[e.jsxs("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-2 flex items-center justify-center",children:[e.jsx("span",{className:"inline-block w-6 h-6 bg-blue-500 text-white text-sm rounded-full flex items-center justify-center mr-3 font-bold",children:"1"}),"L'enchÃ¨re inversÃ©e"]}),e.jsx("p",{className:"text-sm md:text-base text-gray-700 leading-relaxed",children:"Le client dÃ©crit son besoin et les prestataires rivalisent pour offrir le meilleur deal."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-green-500",children:[e.jsxs("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-2 flex items-center justify-center",children:[e.jsx("span",{className:"inline-block w-6 h-6 bg-green-500 text-white text-sm rounded-full flex items-center justify-center mr-3 font-bold",children:"2"}),"La mise en relation stratÃ©gique"]}),e.jsxs("p",{className:"text-sm md:text-base text-gray-700 leading-relaxed",children:["Connectez-vous directement Ã  la bonne personne grÃ¢ce aux rÃ©seaux et connaissances partagÃ©es.",e.jsx("br",{}),e.jsx("span",{className:"font-medium",children:"Toi aussi, valorise ton rÃ©seau"})]})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-100",children:e.jsxs("p",{className:"text-sm md:text-base text-gray-800 leading-relaxed text-center",children:[e.jsx("strong",{children:"Swideal"})," transforme la mise en relation en vÃ©ritable ",e.jsx("strong",{children:"art du deal"}),"."]})})]})}),e.jsx("div",{className:"mt-6",children:e.jsx(I,{onClick:()=>d(0),className:"bg-blue-600 hover:bg-blue-700 text-white px-10 py-4 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",size:"lg",children:"ðŸš€ DÃ©marrer"})})]})}),()=>e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"space-y-2 animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 animate-bounce-in progressive-flow-title",style:{fontFamily:"Inter, system-ui, -apple-system, sans-serif"},children:"CrÃ©ez votre mission en quelques clics"}),e.jsxs("p",{className:"text-gray-600 animate-slide-up progressive-flow-description",style:{fontFamily:"Inter, system-ui, -apple-system, sans-serif"},children:["Publiez votre projet et recevez des propositions de ",e.jsx("span",{className:"text-green-600 font-semibold",children:"prestataires"})," qualifiÃ©s"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto progressive-flow-grid",children:[e.jsx(M,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-1 group card-shine progressive-flow-card ${C==="client"?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-blue-50/30"} ${g==="client"?"scale-95 ring-4 ring-blue-400 bg-blue-100 animate-pulse-glow":""}`,onClick:()=>{O("client"),m("client"),setTimeout(()=>{d(1),m(null)},400)},children:e.jsxs(A,{className:"p-6 text-center",children:[e.jsx(ue,{className:`w-12 h-12 mx-auto mb-4 text-blue-600 transition-all duration-300 group-hover:scale-110 group-hover:rotate-3 ${g==="client"?"scale-125 animate-pulse text-blue-800":""}`}),e.jsxs("h3",{className:"text-xl font-semibold mb-2",style:{fontFamily:"Inter, system-ui, -apple-system, sans-serif"},children:["ðŸ‘¨â€ðŸ’¼ ",e.jsx("span",{className:"text-gray-900",children:"Je suis"})," ",e.jsx("span",{className:"text-blue-600",children:"Client"})]}),e.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-3",style:{fontFamily:"Inter, system-ui, -apple-system, sans-serif"},children:["Trouvez le ",e.jsx("span",{className:"text-green-600 font-semibold",children:"prestataire"})," idÃ©al pour vos projets"]}),e.jsxs("p",{className:"text-gray-600 text-sm leading-relaxed",children:["AppelsPro rÃ©volutionne la mise en relation entre ",e.jsx("span",{className:"text-blue-600 font-medium",children:"clients"})," et ",e.jsx("span",{className:"text-green-600 font-medium",children:"prestataires"}),". Publiez votre projet et recevez des devis personnalisÃ©s en quelques heures."]})]})}),e.jsx(M,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-1 group card-shine progressive-flow-card ${C==="prestataire"?"ring-2 ring-green-500 bg-green-50":"hover:bg-green-50/30"} ${g==="prestataire"?"scale-95 ring-4 ring-green-400 bg-green-100 animate-pulse-glow":""}`,onClick:()=>{O("prestataire"),m("prestataire"),setTimeout(()=>{d(1),m(null)},400)},children:e.jsxs(A,{className:"p-6 text-center",children:[e.jsx(W,{className:`w-12 h-12 mx-auto mb-4 text-green-600 transition-all duration-300 group-hover:scale-110 group-hover:rotate-3 ${g==="prestataire"?"scale-125 animate-pulse text-green-800":""}`}),e.jsxs("h3",{className:"text-xl font-semibold mb-2",style:{fontFamily:"Inter, system-ui, -apple-system, sans-serif"},children:["ðŸ› ï¸ ",e.jsx("span",{className:"text-gray-900",children:"Je suis"})," ",e.jsx("span",{className:"text-green-600",children:"Prestataire"})]}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",style:{fontFamily:"Inter, system-ui, -apple-system, sans-serif"},children:"DÃ©veloppez votre activitÃ© en tant que pro"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"AccÃ©dez Ã  de nouvelles opportunitÃ©s business sans prospection. RÃ©pondez aux appels d'offres qui correspondent Ã  vos compÃ©tences."})]})})]})]}),()=>e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 progressive-flow-title",children:"Comment souhaitez-vous procÃ©der ?"}),e.jsx("p",{className:"text-gray-600 progressive-flow-description",children:"SÃ©lectionnez la mÃ©thode qui vous convient le mieux"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto progressive-flow-grid",children:[e.jsx(M,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-1 group card-shine progressive-flow-card ${u==="mise-en-relation"?"ring-2 ring-purple-500 bg-purple-50":"hover:bg-purple-50/30"} ${g==="mise-en-relation"?"scale-95 ring-4 ring-purple-400 bg-purple-100 animate-pulse-glow":""}`,onClick:()=>{z("mise-en-relation"),m("mise-en-relation"),setTimeout(()=>{d(2),m(null)},400)},children:e.jsxs(A,{className:"p-6 text-center",children:[e.jsx(W,{className:`w-12 h-12 mx-auto mb-4 text-purple-600 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12 ${g==="mise-en-relation"?"scale-125 animate-pulse text-purple-800":""}`}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Mise en relation"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Contact direct avec des prestataires sÃ©lectionnÃ©s"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{variant:"secondary",children:"Contact immÃ©diat"}),e.jsx($,{variant:"secondary",children:"Profils vÃ©rifiÃ©s"})]})]})}),e.jsx(M,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-1 group card-shine progressive-flow-card ${u==="appel-offres"?"ring-2 ring-orange-500 bg-orange-50":"hover:bg-orange-50/30"} ${g==="appel-offres"?"scale-95 ring-4 ring-orange-400 bg-orange-100 animate-pulse-glow":""}`,onClick:()=>{z("appel-offres"),m("appel-offres"),setTimeout(()=>{d(2),m(null)},400)},children:e.jsxs(A,{className:"p-6 text-center",children:[e.jsx(N,{className:`w-12 h-12 mx-auto mb-4 text-orange-600 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12 ${g==="appel-offres"?"scale-125 animate-pulse text-orange-800":""}`}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Appel d'offres"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Recevez plusieurs propositions et choisissez la meilleure"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{variant:"secondary",children:"EnchÃ¨re inversÃ©e"}),e.jsx($,{variant:"secondary",children:"+50 prestataires"})]})]})})]}),e.jsxs(I,{variant:"outline",onClick:()=>d(0),className:"mt-4",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Retour"]})]}),()=>{const n=u==="mise-en-relation"?Y:ee,j=u==="mise-en-relation"?"expert":"projet";return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center space-y-2 animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 animate-bounce-in progressive-flow-title",children:"Dans quel domaine ?"}),e.jsxs("p",{className:"text-gray-600 animate-slide-up progressive-flow-description",children:["SÃ©lectionnez la catÃ©gorie qui correspond Ã  votre ",j]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 category-grid",children:n.map(i=>e.jsx(M,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg hover:scale-105 hover:-translate-y-1 group card-shine ${x===i.id?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-blue-50/20"} ${g===i.id?"scale-95 ring-4 ring-blue-400 bg-blue-100 animate-pulse-glow":""}`,onClick:()=>{J(i.id),m(i.id),setTimeout(()=>{d(3),m(null)},400)},children:e.jsxs(A,{className:"p-4 text-center category-card",children:[e.jsx("div",{className:"mb-3",children:(()=>{const s=F(i.icon);return e.jsx(s,{className:`w-8 h-8 mx-auto ${i.color} transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 ${g===i.id?"scale-125 animate-pulse":""}`})})()}),e.jsx("h3",{className:"font-medium text-sm leading-tight",children:i.name}),i.description&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i.description})]})},i.id))}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(I,{variant:"outline",onClick:()=>d(1),children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Retour"]})})]})},()=>{const j=(u==="mise-en-relation"?Y:ee).find(s=>s.id===x),i=u==="mise-en-relation"?"demande de contact":"projet";return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center space-y-2 animate-fade-in",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 animate-bounce-in progressive-flow-title",children:["DÃ©crivez votre ",i," ",j?.name]}),e.jsxs("p",{className:"text-gray-600 animate-slide-up progressive-flow-description",children:["Plus votre description est prÃ©cise, ",u==="mise-en-relation"?"plus les experts seront adaptÃ©s":"meilleures seront les propositions"]})]}),e.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto progressive-flow-form",children:[e.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx(he,{id:"team-mode",checked:f,onCheckedChange:c}),e.jsx(xe,{htmlFor:"team-mode",className:"text-blue-900 font-medium",children:"ðŸ¤ Mode Ã©quipe - Diviser le projet en plusieurs spÃ©cialitÃ©s"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Titre du ",i," *"]}),e.jsx(Z,{currentText:t.title,fieldType:"title",category:x,onSuggestion:s=>{p(r=>({...r,title:s})),P(r=>({...r,title:!0}))},className:"text-xs"})]}),e.jsx(V,{placeholder:u==="mise-en-relation"?`Ex: Recherche ${j?.name.toLowerCase()} pour conseil juridique`:"Ex: CrÃ©ation d'un site web e-commerce",value:t.title,onChange:s=>p(r=>({...r,title:s.target.value}))}),R.title&&e.jsx("div",{className:"mt-2",children:e.jsx(K,{phase:"brief_enhance",prompt:{field:"title",text:t.title},onFeedback:()=>P(s=>({...s,title:!1}))})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description dÃ©taillÃ©e *"}),e.jsx(Z,{currentText:t.description,fieldType:"description",category:x,onSuggestion:s=>{p(r=>({...r,description:s})),P(r=>({...r,description:!0}))},className:"text-xs"})]}),e.jsx(X,{placeholder:u==="mise-en-relation"?"DÃ©crivez le type de consultation recherchÃ©e, vos besoins spÃ©cifiques, le contexte...":"DÃ©crivez prÃ©cisÃ©ment votre besoin, vos objectifs, contraintes techniques...",rows:4,value:t.description,onChange:s=>p(r=>({...r,description:s.target.value}))}),R.description&&e.jsx("div",{className:"mt-2",children:e.jsx(K,{phase:"brief_enhance",prompt:{field:"description",text:t.description},onFeedback:()=>P(s=>({...s,description:!1}))})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(re,{className:"w-4 h-4 inline mr-1"}),u==="mise-en-relation"?"Budget consultation (optionnel)":"Budget indicatif (optionnel)"]}),e.jsx(V,{placeholder:u==="mise-en-relation"?"Ex: 200 - 500 â‚¬/heure":"Ex: 5 000 - 10 000 â‚¬",value:t.budget,onChange:s=>p(r=>({...r,budget:s.target.value}))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(se,{className:"w-4 h-4 inline mr-1"}),"DÃ©lai souhaitÃ© (optionnel)"]}),e.jsx(V,{placeholder:"Ex: 2-3 mois",value:t.timeline,onChange:s=>p(r=>({...r,timeline:s.target.value}))})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Exigences spÃ©cifiques (optionnel)"}),e.jsx(Z,{currentText:t.requirements,fieldType:"requirements",category:x,onSuggestion:s=>{p(r=>({...r,requirements:s})),P(r=>({...r,requirements:!0}))},className:"text-xs"})]}),e.jsx(X,{placeholder:"Technologies requises, contraintes particuliÃ¨res, livrables attendus...",rows:3,value:t.requirements,onChange:s=>p(r=>({...r,requirements:s.target.value}))}),R.requirements&&e.jsx("div",{className:"mt-2",children:e.jsx(K,{phase:"brief_enhance",prompt:{field:"requirements",text:t.requirements},onFeedback:()=>P(s=>({...s,requirements:!1}))})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(fe,{title:t.title,description:t.description,category:x,onPriceSuggestion:s=>{const r=`${s.minPrice} - ${s.maxPrice} â‚¬`;p(L=>({...L,budget:r})),Q({type:"pricing",data:s}),H(!0)}}),U&&D&&e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"ðŸ¤– Comment trouvez-vous cette suggestion IA ?"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Votre retour nous aide Ã  amÃ©liorer nos suggestions"})]}),e.jsx(K,{phase:"brief_enhance",prompt:{title:t.title,description:t.description,category:x,suggestion:D},onFeedback:(s,r,L)=>{console.log("Feedback IA reÃ§u:",{accepted:s,rating:r,edits:L}),H(!1),o({title:"Merci pour votre retour !",description:"Vos commentaires nous aident Ã  amÃ©liorer l'IA"})}})]})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(be,{className:"w-5 h-5 mr-2 text-blue-600"}),"Localisation"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"remote",name:"location-type",checked:!t.needsLocation,onChange:()=>p(s=>({...s,needsLocation:!1,location:{...s.location,address:""}})),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"remote",className:"text-sm font-medium text-gray-700",children:"Ã€ distance"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"onsite",name:"location-type",checked:t.needsLocation,onChange:()=>p(s=>({...s,needsLocation:!0})),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"onsite",className:"text-sm font-medium text-gray-700",children:"Intervention sur site"})]})]}),t.needsLocation&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code postal (5 chiffres) *"}),e.jsx(V,{type:"text",placeholder:"Ex: 75001",pattern:"[0-9]{5}",maxLength:5,value:t.location.address,onChange:s=>{const r=s.target.value.replace(/[^0-9]/g,"").slice(0,5);p(L=>({...L,location:{...L.location,address:r}}))},className:"w-40"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Saisissez le code postal de l'intervention"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(I,{variant:"outline",onClick:()=>d(2),children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Retour"]}),e.jsx(I,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transform transition-all duration-300 hover:scale-105 hover:shadow-xl disabled:hover:scale-100 disabled:hover:shadow-none",disabled:E||!t.title.trim()||!t.description.trim()||t.needsLocation&&(!t.location.address||t.location.address.length!==5),onClick:ae,children:E?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"CrÃ©ation..."]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),f?"CrÃ©er le projet Ã©quipe":"Publier la mission"]})})]})]})]})}];return e.jsx("div",{className:"w-full max-w-6xl mx-auto progressive-flow-container",children:e.jsxs("div",{className:"bg-transparent pb-24",children:[e.jsx("div",{className:"px-4 relative progressive-flow-step",children:ie[a+1]()}),a>=0&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50/5 via-indigo-50/5 to-purple-50/5 p-3 rounded-xl mt-6 mb-6 border border-blue-200/20 backdrop-blur-sm progressive-flow-progress",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Ã‰tape ",a+1," sur 4"]}),e.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[Math.round((a+1)/4*100),"%"]})]}),e.jsx("div",{className:"w-full h-1 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 rounded-full transition-all duration-700 ease-out shadow-sm relative",style:{width:`${(a+1)/4*100}%`},children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent rounded-full"})})}),e.jsx("div",{className:"flex justify-between mt-2",children:[1,2,3,4].map(n=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${n<=a+1?"bg-gradient-to-r from-blue-500 to-purple-500 shadow-sm":"bg-gray-300"}`}),e.jsx("span",{className:`text-xs mt-1 font-medium transition-colors duration-300 ${n<=a+1?"text-blue-600":"text-gray-400"}`,children:n})]},n))})]})]})})}export{ze as P};
