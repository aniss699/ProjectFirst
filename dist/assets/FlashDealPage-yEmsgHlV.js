import{r as p,j as e}from"./ui-BcXBiFQq.js";import{u as g,F as f,a,b as l,c as t,d as n,e as o,t as v,f as b}from"./services-GtCVtD4h.js";import{g as N,Z as j,C as y,a as F,i as C,b as S,I as i,B as D}from"./index-JufQ9XFV.js";import{T as w}from"./textarea-C6pkaPl9.js";import{S as z,a as B,b as E,c as I,d as c}from"./select-CeIArLoP.js";import{s as T}from"./services-B9yTTPPJ.js";import{C as L}from"./clock-EFGv7To9.js";import{E as P}from"./euro-DWfeGwPa.js";import{M as V}from"./map-pin-oN9H2Uwa.js";import{L as M}from"./loader-circle-DokMIhMz.js";import"./vendor-D3F3s8fL.js";import"./index-DIYLGAU4.js";function W(){const[d,x]=p.useState(!1),{toast:h}=N(),r=g({resolver:v(b),defaultValues:{need:"",maxBudget:0,maxDelay:"",location:"",phone:"",email:""}}),u=async s=>{x(!0);try{(await T.createFlashDeal(s)).success&&(h({title:"Flash Deal publié !",description:"Vous recevrez des propositions dans les minutes qui suivent."}),r.reset())}catch{h({title:"Erreur",description:"Impossible de publier le flash deal. Réessayez.",variant:"destructive"})}finally{x(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-block p-4 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mb-4",children:e.jsx(j,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Flash Deals Services"}),e.jsx("p",{className:"text-gray-600",children:"Besoin urgent ? Recevez des devis en temps record !"})]}),e.jsxs(y,{children:[e.jsx(F,{children:e.jsxs(C,{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{children:"Décrivez votre besoin urgent"})]})}),e.jsx(S,{children:e.jsx(f,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(u),className:"space-y-6",children:[e.jsx(a,{control:r.control,name:"need",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Quel est votre besoin ?"}),e.jsx(n,{children:e.jsx(w,{placeholder:"Décrivez précisément ce dont vous avez besoin...",className:"min-h-[100px]",...s})}),e.jsx(o,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(a,{control:r.control,name:"maxBudget",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Budget maximum (€)"}),e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx(i,{type:"number",placeholder:"500",className:"pl-10",...s,onChange:m=>s.onChange(Number(m.target.value))})]})}),e.jsx(o,{})]})}),e.jsx(a,{control:r.control,name:"maxDelay",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Délai maximum"}),e.jsxs(z,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(n,{children:e.jsx(B,{children:e.jsx(E,{placeholder:"Sélectionnez"})})}),e.jsxs(I,{children:[e.jsx(c,{value:"1h",children:"1 heure"}),e.jsx(c,{value:"2h",children:"2 heures"}),e.jsx(c,{value:"4h",children:"4 heures"}),e.jsx(c,{value:"24h",children:"24 heures"})]})]}),e.jsx(o,{})]})})]}),e.jsx(a,{control:r.control,name:"location",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Localisation"}),e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx(i,{placeholder:"Paris, Lyon, ou à distance...",className:"pl-10",...s})]})}),e.jsx(o,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(a,{control:r.control,name:"phone",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Téléphone (optionnel)"}),e.jsx(n,{children:e.jsx(i,{placeholder:"+33 6 12 34 56 78",...s})}),e.jsx(o,{})]})}),e.jsx(a,{control:r.control,name:"email",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Email (optionnel)"}),e.jsx(n,{children:e.jsx(i,{type:"email",placeholder:"vous@email.com",...s})}),e.jsx(o,{})]})})]}),e.jsx(D,{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 py-3 text-lg font-semibold",children:d?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-5 h-5 mr-2 animate-spin"}),"Publication en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-5 h-5 mr-2"}),"Publier le Flash Deal"]})})]})})})]})]})})}export{W as default};
