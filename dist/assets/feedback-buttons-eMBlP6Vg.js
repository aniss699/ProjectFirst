import{j as t}from"./ui-he1BrmUV.js";import{i as m,f as a,ac as p,X as h}from"./index-XbwPyvO-.js";import{S as g}from"./square-pen-DcLnBlPl.js";const b=({phase:i,prompt:n,onFeedback:c})=>{const{toast:r}=m(),s=async e=>{try{(await fetch("/api/ai-orchestrator/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phase:i,prompt:n,feedback:e})})).ok&&(r({title:"Merci pour votre retour !"}),c?.(e.accepted,e.rating,e.edits))}catch(o){console.error("Erreur feedback:",o),r({title:"Erreur lors de l'envoi",variant:"destructive"})}},d=()=>s({accepted:!0,rating:5}),l=()=>s({accepted:!1,rating:1}),u=()=>{const e=window.prompt("Indiquez vos modifications :");e&&s({accepted:!0,rating:3,edits:e})};return t.jsxs("div",{className:"flex gap-2 mt-2","data-testid":"ai-feedback-buttons",children:[t.jsxs(a,{size:"sm",variant:"outline",onClick:d,className:"text-green-600 hover:bg-green-50","data-testid":"button-keep-suggestion",children:[t.jsx(p,{className:"w-3 h-3 mr-1"}),"Garder"]}),t.jsxs(a,{size:"sm",variant:"outline",onClick:u,className:"text-blue-600 hover:bg-blue-50","data-testid":"button-modify-suggestion",children:[t.jsx(g,{className:"w-3 h-3 mr-1"}),"Modifier"]}),t.jsxs(a,{size:"sm",variant:"outline",onClick:l,className:"text-red-600 hover:bg-red-50","data-testid":"button-reject-suggestion",children:[t.jsx(h,{className:"w-3 h-3 mr-1"}),"Rejeter"]})]})};export{b as A};
