import{r as b,j as e}from"./ui-he1BrmUV.js";import{h as se,C as j,b as D,f as z,c as v,B as c,m as ve,n as U,e as ee,T as E,D as ze,o as Te,q as _e,r as Me,Z as te,X as G,S as J,s as O,U as V,t as Fe,I as w,l as W,g as Pe,j as Ee,L as A}from"./index-CBBDTguF.js";import{T as Y}from"./textarea-BE-4R39t.js";import{B as S}from"./badge-BczrwgLg.js";import{T as Re,a as qe,b as L,c as $}from"./tabs-4pbu5ZRt.js";import{S as ne}from"./switch-8tN5DXs9.js";import{A as Le}from"./availability-calendar-o9fCOkIv.js";import{B as T}from"./brain-Cs_dEmzr.js";import{E as ce}from"./eye-VwBeDv48.js";import{S as H}from"./star-CvxPlCQO.js";import{C as oe}from"./circle-alert-yg6p98lo.js";import{T as K}from"./trending-up-DkuIDdIi.js";import{A as $e,a as Oe,b as He}from"./avatar-PV1d7wZH.js";import{M as de}from"./map-pin-BJaPs52M.js";import{P as Be}from"./phone-xzr_EKJS.js";import{C as B}from"./clock-DlmMV53Q.js";import{S as me,a as xe,b as he,c as pe,d as ge}from"./select-D-LW2z9h.js";import{E as Ue}from"./euro-CLLzLmeN.js";import{S as Je}from"./square-pen-CZGT6l7p.js";import{R as Ve}from"./refresh-cw-Cnug58tM.js";import{C as ue}from"./calendar-C4NuRHZi.js";import{S as We}from"./save-Z0hTxH6O.js";import"./vendor-D3F3s8fL.js";import"./index-BelvN6Su.js";import"./calendar-TvIkKYOj.js";import"./en-US-oEpl4HuW.js";import"./chevron-left-fpDa_pGh.js";import"./trash-2-DZzyCYRk.js";import"./fr-Qfl_UVRO.js";import"./chevron-up-DQznW12x.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=se("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);function Xe({userProfile:r,userType:g,onApplySuggestion:x}){const[i,_]=b.useState(null),[h,I]=b.useState(!1),[n,m]=b.useState(null),[C,f]=b.useState(!1),M=async()=>{I(!0);try{const t=await fetch("/api/ai/analyze-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:r,user_type:g})});if(t.ok){const l=await t.json();_(l)}}catch(t){console.error("Erreur analyse profil:",t),_(o())}finally{I(!1)}},o=()=>{const t=u(),l=[];return(!r.bio||r.bio.length<100)&&l.push({category:"Description",item:"Description détaillée",impact:"high",suggestion:"Ajoutez une description de 150-300 mots pour expliquer votre expertise",estimated_improvement:"+25% de visibilité"}),g==="provider"&&((!r.skills||r.skills.length<5)&&l.push({category:"Compétences",item:"Liste des compétences",impact:"high",suggestion:"Ajoutez au moins 5-8 compétences principales",estimated_improvement:"+30% de correspondance"}),(!r.portfolio||r.portfolio.length<3)&&l.push({category:"Portfolio",item:"Projets de référence",impact:"medium",suggestion:"Ajoutez 3-5 projets récents avec descriptions détaillées",estimated_improvement:"+20% de confiance client"})),{completeness_score:t,visibility_score:Math.min(t*1.2,100),trust_score:t*.8+(r.portfolio?.length||0)*5,missing_elements:l,strengths:["Profil vérifié","Informations de contact complètes"],ai_suggestions:[{type:"text_improvement",field:"bio",current:r.bio||"",suggested:p(),reasoning:"Description plus engageante et professionnelle",impact_score:85}],market_positioning:{current_rank:"Intermédiaire",potential_rank:"Expert",competitive_advantage:["Disponibilité rapide","Communication claire"]}}},p=()=>g==="provider"?"Développeur full-stack passionné avec expertise en React, Node.js et TypeScript. J'accompagne les entreprises dans leur transformation digitale en créant des solutions web modernes et performantes. Spécialisé dans l'architecture scalable et les interfaces utilisateur intuitives. Plus de 50 projets réalisés avec un taux de satisfaction client de 98%.":"Entreprise innovante spécialisée dans [votre secteur]. Nous recherchons des talents créatifs pour nos projets ambitieux. Notre équipe valorise l'excellence technique, la créativité et la collaboration. Nous privilégions les partenariats long terme avec nos prestataires.",u=()=>{let t=0;return r.name&&(t+=10),r.email&&(t+=10),r.phone&&(t+=5),r.location&&(t+=5),r.bio&&r.bio.length>50&&(t+=20),g==="provider"?(r.skills&&r.skills.length>=5&&(t+=25),r.portfolio&&r.portfolio.length>=3&&(t+=15),r.hourlyRate&&(t+=10)):(r.company&&(t+=15),r.industry&&(t+=15),r.bio&&r.bio.length>100&&(t+=10)),Math.min(t,100)},k=t=>t>=80?"text-green-600":t>=60?"text-yellow-600":"text-red-600",F=t=>t>=80?"bg-green-100":t>=60?"bg-yellow-100":"bg-red-100";return e.jsxs(j,{className:"border-2 border-blue-200 shadow-xl bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx(D,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100",children:e.jsxs(z,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl shadow-md",children:e.jsx(T,{className:"h-7 w-7 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:"Analyse IA de votre profil"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Optimisez votre visibilité et attractivité"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs(S,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white text-lg px-4 py-2 shadow-lg",children:[i?.completeness_score||0,"% complet"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Score de visibilité: ",i?.visibility_score||0,"%"]})]})]})}),e.jsx(v,{className:"space-y-6",children:i?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:`p-4 rounded-lg ${F(i.completeness_score)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(ve,{className:"h-5 w-5"}),e.jsxs("span",{className:`text-2xl font-bold ${k(i.completeness_score)}`,children:[i.completeness_score,"%"]})]}),e.jsx("p",{className:"text-sm font-medium",children:"Complétude"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${F(i.visibility_score)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(ce,{className:"h-5 w-5"}),e.jsxs("span",{className:`text-2xl font-bold ${k(i.visibility_score)}`,children:[i.visibility_score,"%"]})]}),e.jsx("p",{className:"text-sm font-medium",children:"Visibilité"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${F(i.trust_score)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(H,{className:"h-5 w-5"}),e.jsxs("span",{className:`text-2xl font-bold ${k(i.trust_score)}`,children:[Math.round(i.trust_score),"%"]})]}),e.jsx("p",{className:"text-sm font-medium",children:"Confiance"})]})]}),i.missing_elements.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsx(oe,{className:"h-4 w-4 mr-2 text-orange-500"}),"Améliorations prioritaires"]}),e.jsx("div",{className:"space-y-3",children:i.missing_elements.map((t,l)=>e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium",children:t.item}),e.jsx(S,{variant:t.impact==="high"?"destructive":t.impact==="medium"?"default":"secondary",className:"text-xs",children:t.impact==="high"?"Priorité haute":t.impact==="medium"?"Priorité moyenne":"Priorité basse"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.suggestion}),e.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[e.jsx(K,{className:"h-3 w-3 mr-1"}),t.estimated_improvement]})]})})},l))})]}),i.ai_suggestions.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsx(U,{className:"h-4 w-4 mr-2 text-blue-500"}),"Suggestions d'amélioration IA"]}),e.jsx("div",{className:"space-y-3",children:i.ai_suggestions.map((t,l)=>e.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-medium capitalize",children:t.field}),e.jsxs(S,{variant:"outline",className:"text-xs",children:["Impact: ",t.impact_score,"%"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:t.reasoning}),t.current&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Actuel:"}),e.jsxs("div",{className:"bg-gray-100 p-2 rounded text-sm",children:[t.current.substring(0,100),"..."]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Suggestion IA:"}),e.jsx("div",{className:"bg-white p-3 rounded border border-blue-200 text-sm",children:t.suggested})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{size:"sm",onClick:()=>x(t.field,t.suggested),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(ee,{className:"h-3 w-3 mr-1"}),"Appliquer"]}),e.jsx(c,{size:"sm",variant:"outline",onClick:()=>m(n===l?null:l),children:n===l?"Masquer":"Détails"})]}),n===l&&e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:e.jsxs("p",{className:"text-xs text-gray-600",children:["Cette amélioration pourrait augmenter votre visibilité de ",e.jsxs("strong",{children:[t.impact_score,"%"]}),"en rendant votre profil plus attractif pour les ",g==="provider"?"clients":"prestataires","."]})})]},l))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsx(E,{className:"h-4 w-4 mr-2 text-purple-500"}),"Positionnement marché"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Position actuelle"}),e.jsx("p",{className:"font-medium",children:i.market_positioning.current_rank})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Potentiel"}),e.jsx("p",{className:"font-medium text-green-600",children:i.market_positioning.potential_rank})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Avantages concurrentiels:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:i.market_positioning.competitive_advantage.map((t,l)=>e.jsx(S,{variant:"secondary",className:"text-xs",children:t},l))})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs(c,{onClick:()=>f(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),"Voir l'analyse détaillée"]})}),e.jsx(ze,{open:C,onOpenChange:f,children:e.jsxs(Te,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(_e,{children:"Analyse détaillée du profil IA"}),e.jsx(Me,{children:"Découvrez les recommandations personnalisées pour optimiser votre profil et augmenter vos opportunités."}),e.jsxs("div",{className:"space-y-6",children:[i.missing_elements.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsx(oe,{className:"h-4 w-4 mr-2 text-orange-500"}),"Améliorations prioritaires"]}),e.jsx("div",{className:"space-y-3",children:i.missing_elements.map((t,l)=>e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium",children:t.item}),e.jsx(S,{variant:t.impact==="high"?"destructive":t.impact==="medium"?"default":"secondary",className:"text-xs",children:t.impact==="high"?"Priorité haute":t.impact==="medium"?"Priorité moyenne":"Priorité basse"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.suggestion}),e.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[e.jsx(K,{className:"h-3 w-3 mr-1"}),t.estimated_improvement]})]})})},l))})]}),i.ai_suggestions.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsx(U,{className:"h-4 w-4 mr-2 text-blue-500"}),"Suggestions d'amélioration IA"]}),e.jsx("div",{className:"space-y-3",children:i.ai_suggestions.map((t,l)=>e.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-medium capitalize",children:t.field}),e.jsxs(S,{variant:"outline",className:"text-xs",children:["Impact: ",t.impact_score,"%"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:t.reasoning}),t.current&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Actuel:"}),e.jsxs("div",{className:"bg-gray-100 p-2 rounded text-sm",children:[t.current.substring(0,100),"..."]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Suggestion IA:"}),e.jsx("div",{className:"bg-white p-3 rounded border border-blue-200 text-sm",children:t.suggested})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{size:"sm",onClick:()=>x(t.field,t.suggested),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(ee,{className:"h-3 w-3 mr-1"}),"Appliquer"]}),e.jsx(c,{size:"sm",variant:"outline",onClick:()=>m(n===l?null:l),children:n===l?"Masquer":"Détails"})]}),n===l&&e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:e.jsxs("p",{className:"text-xs text-gray-600",children:["Cette amélioration pourrait augmenter votre visibilité de ",e.jsxs("strong",{children:[t.impact_score,"%"]}),"en rendant votre profil plus attractif pour les ",g==="provider"?"clients":"prestataires","."]})})]},l))})]})]})]})}),e.jsx("div",{className:"text-center",children:e.jsxs(c,{variant:"outline",onClick:M,disabled:h,className:"w-full",children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"Re-analyser le profil"]})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(c,{onClick:M,disabled:h,className:"bg-blue-600 hover:bg-blue-700",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Analyse en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Analyser mon profil avec l'IA"]})}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"L'IA analysera votre profil en 30 secondes"})]})})]})}function Ze({inputValue:r,onSuggestionApply:g,context:x,className:i="",disabled:_=!1}){const[h,I]=b.useState([]),[n,m]=b.useState(!1),[C,f]=b.useState(!1),[M,o]=b.useState(0),p=b.useRef();b.useEffect(()=>(p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{r.length>3&&!_?u():(I([]),f(!1))},500),()=>{p.current&&clearTimeout(p.current)}),[r,x]);const u=async()=>{m(!0);try{const l=k();I(l),f(l.length>0)}catch(l){console.error("Erreur suggestion texte:",l),I([{id:"basic",type:"improvement",text:r,confidence:50,reasoning:"Suggestion de base",category:"Fallback"}]),f(!1)}finally{m(!1)}},k=()=>{const l=[],y=r.toLowerCase();return r.length>0&&l.push({id:"base",type:"improvement",text:r+" [Optimisé par IA]",confidence:75,reasoning:"Amélioration automatique du texte",category:"Optimisation générale"}),(x?.field==="bio"||x?.field==="description")&&(r.length<50&&l.push({id:"1",type:"extension",text:r+" Avec une expérience solide dans mon domaine, je m'engage à livrer des résultats de qualité dans les délais convenus. Ma priorité est la satisfaction client et l'excellence technique.",confidence:85,reasoning:"Extension professionnelle adaptée au contexte",category:"Extension professionnelle"}),!y.includes("expérience")&&!y.includes("expertise")&&l.push({id:"2",type:"improvement",text:r+" Fort de plusieurs années d'expérience, je maîtrise les dernières technologies et méthodologies de mon secteur.",confidence:80,reasoning:"Ajout de crédibilité professionnelle",category:"Crédibilité"})),x?.field==="title"&&(l.push({id:"3",type:"improvement",text:r.charAt(0).toUpperCase()+r.slice(1)+" - Solution clé en main",confidence:75,reasoning:"Titre plus accrocheur et professionnel",category:"Optimisation titre"}),l.push({id:"3b",type:"extension",text:"🚀 "+r+" | Expertise & Innovation",confidence:80,reasoning:"Titre avec émojis et mots-clés attractifs",category:"Marketing"})),(x?.category==="project"||x?.field==="project_description")&&(!y.includes("budget")&&!y.includes("délai")&&l.push({id:"4",type:"completion",text:r+" Budget flexible selon la proposition. Délais préférentiels sous 4 semaines. Ouvert aux suggestions d'amélioration.",confidence:90,reasoning:"Informations essentielles manquantes ajoutées",category:"Informations projet"}),!y.includes("livrable")&&!y.includes("résultat")&&l.push({id:"5",type:"extension",text:r+" Livrables attendus : code source documenté, tests inclus, formation si nécessaire. Suivi post-livraison garanti.",confidence:88,reasoning:"Clarification des attentes et livrables",category:"Livrables"})),r.length>10&&l.push({id:"format",type:"correction",text:r.replace(/\b\w+/g,R=>R.charAt(0).toUpperCase()+R.slice(1).toLowerCase()),confidence:70,reasoning:"Amélioration de la mise en forme et lisibilité",category:"Formatage"}),l.slice(0,3)},F=l=>{switch(l){case"completion":return e.jsx(E,{className:"h-3 w-3"});case"improvement":return e.jsx(J,{className:"h-3 w-3"});case"extension":return e.jsx(te,{className:"h-3 w-3"});case"correction":return e.jsx(be,{className:"h-3 w-3"});default:return e.jsx(U,{className:"h-3 w-3"})}},t=l=>{switch(l){case"completion":return"border-blue-200 bg-blue-50";case"improvement":return"border-purple-200 bg-purple-50";case"extension":return"border-green-200 bg-green-50";case"correction":return"border-orange-200 bg-orange-50";default:return"border-gray-200 bg-gray-50"}};return!C&&!n?null:e.jsx("div",{className:`relative ${i}`,children:(C||n)&&e.jsx(j,{className:"absolute top-full left-0 right-0 z-50 mt-2 shadow-lg border-2 border-blue-200",children:e.jsxs(v,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Assistant IA - Suggestions de texte"})]}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>f(!1),className:"h-6 w-6",children:e.jsx(G,{className:"h-3 w-3"})})]}),n?e.jsxs("div",{className:"flex items-center justify-center py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Génération en cours..."})]}):e.jsxs("div",{className:"space-y-3",children:[h.map((l,y)=>e.jsxs("div",{className:`border rounded-lg p-3 cursor-pointer transition-all ${t(l.type)} ${M===y?"ring-2 ring-blue-400":""}`,onClick:()=>o(y),children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[F(l.type),e.jsx(S,{variant:"outline",className:"text-xs",children:l.category}),e.jsxs("span",{className:"text-xs text-gray-500",children:[l.confidence,"% confiance"]})]})}),e.jsx("p",{className:"text-sm text-gray-700 mb-2 line-clamp-3",children:l.text}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-gray-500",children:l.reasoning}),e.jsxs(c,{size:"sm",onClick:R=>{R.stopPropagation(),g(l.text),f(!1)},className:"h-7 text-xs",children:[e.jsx(ee,{className:"h-3 w-3 mr-1"}),"Appliquer"]})]})]},l.id)),e.jsx("div",{className:"border-t pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Suggestions basées sur l'IA et le contexte"}),e.jsxs(c,{variant:"ghost",size:"sm",onClick:u,className:"h-6 text-xs",children:[e.jsx(be,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]})})]})]})})})}function Ye({profileData:r,activeProfile:g,isEditing:x}){return e.jsxs(j,{className:"mb-8 overflow-hidden shadow-xl","data-testid":"profile-header",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-32"}),e.jsx(v,{className:"p-6 -mt-16 relative",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center space-y-4 lg:space-y-0 lg:space-x-6",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs($e,{className:"w-32 h-32 border-4 border-white shadow-xl","data-testid":"profile-avatar",children:[e.jsx(Oe,{src:""}),e.jsx(He,{className:"text-3xl bg-gradient-to-br from-blue-400 to-purple-500 text-white",children:r.name.split(" ").map(i=>i[0]).join("")})]}),x&&e.jsx(c,{size:"sm",className:"absolute -bottom-2 -right-2 rounded-full w-10 h-10 p-0 shadow-lg","data-testid":"button-edit-avatar",children:e.jsx(Ge,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 space-y-2 sm:space-y-0 mb-3",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900","data-testid":"text-username",children:r.name}),e.jsx(S,{className:`${g==="client"?"bg-blue-500":"bg-green-500"} px-3 py-1`,"data-testid":"badge-user-type",children:g==="client"?e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Client Premium"]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Prestataire Certifié"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center","data-testid":"contact-email",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2 text-blue-500"}),e.jsx("span",{className:"truncate",children:r.email})]}),e.jsxs("div",{className:"flex items-center","data-testid":"contact-location",children:[e.jsx(de,{className:"w-4 h-4 mr-2 text-green-500"}),e.jsx("span",{children:r.location})]}),e.jsxs("div",{className:"flex items-center","data-testid":"contact-phone",children:[e.jsx(Be,{className:"w-4 h-4 mr-2 text-purple-500"}),e.jsx("span",{children:r.phone})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:g==="provider"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl p-4 border border-yellow-200","data-testid":"stat-rating",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(H,{className:"w-5 h-5 text-yellow-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"4.9"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"127 avis clients"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200","data-testid":"stat-projects",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(O,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"89"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Projets réalisés"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-4 border border-blue-200","data-testid":"stat-satisfaction",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(V,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"98%"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Taux de satisfaction"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl p-4 border border-purple-200","data-testid":"stat-rate",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(B,{className:"w-5 h-5 text-purple-500"}),e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[r.hourlyRate,"€"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tarif horaire"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-4 border border-blue-200","data-testid":"stat-published-projects",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(O,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"23"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Projets publiés"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200","data-testid":"stat-applications",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(V,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"156"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Candidatures reçues"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl p-4 border border-purple-200","data-testid":"stat-avg-rating",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(H,{className:"w-5 h-5 text-purple-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"4.8"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Note moyenne"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-4 border border-orange-200","data-testid":"stat-industry",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(de,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:r.industry?.split(" ")[0]||"Tech"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Secteur d'activité"})]})]})})]})]})})]})}const Q=[{value:"web-development",label:"Développement Web"},{value:"mobile-development",label:"Développement Mobile"},{value:"design",label:"Design & Créatif"},{value:"marketing",label:"Marketing & Communication"},{value:"writing",label:"Rédaction & Contenu"},{value:"consulting",label:"Conseil & Stratégie"},{value:"data-science",label:"Data & Analyse"},{value:"translation",label:"Traduction & Langues"},{value:"photography",label:"Photo & Vidéo"},{value:"construction",label:"Travaux & Construction"},{value:"repair",label:"Réparation & Maintenance"},{value:"cleaning",label:"Ménage & Entretien"},{value:"tutoring",label:"Formation & Enseignement"},{value:"health",label:"Santé & Bien-être"},{value:"legal",label:"Juridique & Administratif"},{value:"accounting",label:"Comptabilité & Finance"},{value:"other",label:"Autres Services"}],je=[{name:"Développement Web",category:"web-development"},{name:"WordPress",category:"web-development"},{name:"React",category:"web-development"},{name:"Node.js",category:"web-development"},{name:"PHP",category:"web-development"},{name:"JavaScript",category:"web-development"},{name:"Python",category:"data-science"},{name:"Développement Mobile",category:"mobile-development"},{name:"Flutter",category:"mobile-development"},{name:"React Native",category:"mobile-development"},{name:"Design Graphique",category:"design"},{name:"UI/UX Design",category:"design"},{name:"Logo Design",category:"design"},{name:"Photoshop",category:"design"},{name:"Illustrator",category:"design"},{name:"Figma",category:"design"},{name:"Marketing Digital",category:"marketing"},{name:"SEO",category:"marketing"},{name:"Réseaux Sociaux",category:"marketing"},{name:"Google Ads",category:"marketing"},{name:"Facebook Ads",category:"marketing"},{name:"Content Marketing",category:"marketing"},{name:"Email Marketing",category:"marketing"},{name:"Rédaction Web",category:"writing"},{name:"Copywriting",category:"writing"},{name:"Traduction",category:"translation"},{name:"Correction",category:"writing"},{name:"Blogging",category:"writing"},{name:"Consultation",category:"consulting"},{name:"Gestion de Projet",category:"consulting"},{name:"Comptabilité",category:"accounting"},{name:"Juridique",category:"legal"},{name:"Formation",category:"tutoring"},{name:"Coaching",category:"tutoring"},{name:"Photographie",category:"photography"},{name:"Montage Vidéo",category:"photography"},{name:"Animation",category:"photography"},{name:"Plomberie",category:"repair"},{name:"Électricité",category:"repair"},{name:"Peinture",category:"construction"},{name:"Menuiserie",category:"construction"},{name:"Jardinage",category:"construction"},{name:"Ménage",category:"cleaning"},{name:"Maintenance",category:"repair"},{name:"Massage",category:"health"},{name:"Fitness",category:"health"},{name:"Nutrition",category:"health"},{name:"Yoga",category:"health"}],Qe=r=>{const g={"web-development":"bg-blue-100 text-blue-800 border-blue-200","mobile-development":"bg-green-100 text-green-800 border-green-200",design:"bg-purple-100 text-purple-800 border-purple-200",marketing:"bg-orange-100 text-orange-800 border-orange-200",writing:"bg-yellow-100 text-yellow-800 border-yellow-200",consulting:"bg-indigo-100 text-indigo-800 border-indigo-200","data-science":"bg-teal-100 text-teal-800 border-teal-200",translation:"bg-pink-100 text-pink-800 border-pink-200",photography:"bg-red-100 text-red-800 border-red-200",construction:"bg-amber-100 text-amber-800 border-amber-200",repair:"bg-gray-100 text-gray-800 border-gray-200",cleaning:"bg-cyan-100 text-cyan-800 border-cyan-200",tutoring:"bg-emerald-100 text-emerald-800 border-emerald-200",health:"bg-rose-100 text-rose-800 border-rose-200",legal:"bg-slate-100 text-slate-800 border-slate-200",accounting:"bg-lime-100 text-lime-800 border-lime-200",other:"bg-neutral-100 text-neutral-800 border-neutral-200"};return g[r]||g.other};function es({skills:r,newSkill:g,newSkillRate:x,newSkillCategory:i,isEditing:_,onNewSkillChange:h,onNewSkillRateChange:I,onNewSkillCategoryChange:n,onAddSkill:m,onRemoveSkill:C,onUpdateSkillRate:f,onAIKeywordSuggestion:M}){return e.jsxs(j,{"data-testid":"card-skills",children:[e.jsx(D,{children:e.jsxs(z,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Compétences et Tarifs"}),e.jsxs(c,{onClick:M,variant:"outline",size:"sm",className:"bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 border-blue-200 text-blue-700","data-testid":"button-ai-suggestions",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Suggestions IA"]})]})}),e.jsx(v,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3","data-testid":"skills-list",children:[r.map((o,p)=>e.jsx("div",{className:`group p-3 rounded-lg border ${Qe(o.category||"other")} transition-all hover:shadow-sm`,"data-testid":`skill-item-${p}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:o.name}),o.category&&e.jsx(S,{variant:"outline",className:"text-xs",children:Q.find(u=>u.value===o.category)?.label})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[o.hourlyRate&&e.jsxs("div",{className:"flex items-center text-sm font-medium",children:[e.jsx(Ue,{className:"w-3 h-3 mr-1"}),o.hourlyRate,"€/h"]}),_?e.jsxs(e.Fragment,{children:[e.jsx(w,{type:"number",value:o.hourlyRate||"",onChange:u=>f(o.name,parseInt(u.target.value)||0),placeholder:"€/h",className:"w-20 h-8 text-xs"}),e.jsx("button",{onClick:()=>C(o.name),className:"text-red-400 hover:text-red-600 transition-colors p-1","data-testid":`button-remove-skill-${p}`,children:e.jsx(G,{className:"w-4 h-4"})})]}):e.jsx("button",{onClick:()=>C(o.name),className:"text-red-400 hover:text-red-600 transition-colors p-1 opacity-0 group-hover:opacity-100 transition-opacity","data-testid":`button-remove-skill-${p}`,title:"Supprimer cette compétence",children:e.jsx(G,{className:"w-4 h-4"})})]})]})},p)),r.length===0&&e.jsxs("div",{className:"text-gray-500 italic text-sm bg-gray-50 px-4 py-8 rounded-lg border border-gray-200 text-center","data-testid":"empty-skills",children:[e.jsx(H,{className:"w-8 h-8 mx-auto mb-2 opacity-30"}),e.jsx("p",{children:"Aucune compétence ajoutée."}),e.jsx("p",{className:"text-xs mt-1",children:"Ajoutez vos compétences et définissez vos tarifs."})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200","data-testid":"add-skill-form",children:[e.jsx("h4",{className:"font-medium mb-3 text-blue-800",children:"Ajouter une compétence"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Compétences populaires"}),e.jsxs(me,{value:"",onValueChange:o=>{const p=je.find(u=>u.name===o);p&&(h(p.name),n(p.category))},children:[e.jsx(xe,{className:"bg-white",children:e.jsx(he,{placeholder:"Choisir dans les compétences populaires..."})}),e.jsx(pe,{className:"max-h-60",children:Q.map(o=>{const p=je.filter(u=>u.category===o.value);return p.length===0?null:e.jsxs("div",{children:[e.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-gray-500 bg-gray-100 sticky top-0",children:o.label}),p.map(u=>e.jsx(ge,{value:u.name,className:"pl-4",children:u.name},u.name))]},o.value)})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsx(w,{value:g,onChange:o=>h(o.target.value),placeholder:"Ou saisir une compétence personnalisée...",onKeyPress:o=>o.key==="Enter"&&m(),"data-testid":"input-new-skill",className:"md:col-span-2 bg-white"}),e.jsxs(me,{value:i,onValueChange:n,children:[e.jsx(xe,{className:"bg-white",children:e.jsx(he,{placeholder:"Catégorie"})}),e.jsx(pe,{children:Q.map(o=>e.jsx(ge,{value:o.value,children:o.label},o.value))})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(w,{type:"number",value:x||"",onChange:o=>I(parseInt(o.target.value)||0),placeholder:"€/h",className:"flex-1 bg-white"}),e.jsx(c,{onClick:m,"data-testid":"button-add-skill",className:"bg-blue-600 hover:bg-blue-700",disabled:!g.trim(),children:e.jsx(W,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"mt-3 text-xs text-blue-600",children:"💡 Sélectionnez une compétence populaire ou saisissez la vôtre"})]})]})})]})}function Ts(){const{user:r,login:g}=Pe(),{toast:x}=Ee(),[i,_]=b.useState(!1),[h,I]=b.useState(r?.type||"client"),[n,m]=b.useState({name:r?.name||"",email:r?.email||"",phone:"",location:"",bio:"",skills:[],experience:"",portfolio:[],availability:!0,hourlyRate:"",company:"",industry:"",calendarAvailability:[],keywords:[]}),[C,f]=b.useState(""),[M,o]=b.useState(0),[p,u]=b.useState(""),[k,F]=b.useState({title:"",description:""}),[t,l]=b.useState(void 0),[y,R]=b.useState(!1),Ne=(s,a)=>{m(d=>({...d,[s]:a})),x({title:"Suggestion appliquée",description:`Le champ "${s}" a été mis à jour avec la suggestion IA.`})},fe=s=>a=>{m(d=>({...d,[s]:a}))},ye=()=>{if(r&&r.type!==h){const s={...r,type:h};g(s)}x({title:"Profil sauvegardé",description:"Vos informations ont été mises à jour avec succès."}),_(!1)},ae=s=>{if(I(s),r){const a={...r,type:s};g(a),x({title:"Mode changé",description:`Vous êtes maintenant en mode ${s==="client"?"Client":"Prestataire"}`})}},we=()=>{C.trim()&&!n.skills.some(s=>s.name===C.trim())&&(m(s=>({...s,skills:[...s.skills,{name:C.trim(),hourlyRate:M||void 0,category:p||void 0}]})),f(""),o(0),u(""))},Ce=s=>{m(a=>({...a,skills:a.skills.filter(d=>d.name!==s)}))},ke=(s,a)=>{m(d=>({...d,skills:d.skills.map(N=>N.name===s?{...N,hourlyRate:a}:N)}))},Ae=()=>{k.title.trim()&&k.description.trim()&&(m(s=>({...s,portfolio:[...s.portfolio,k]})),F({title:"",description:""}))},re=()=>{t&&t.start&&t.end&&t.start<t.end&&(m(s=>({...s,calendarAvailability:[...s.calendarAvailability,t]})),l(void 0))},Se=s=>{m(a=>({...a,calendarAvailability:a.calendarAvailability.filter((d,N)=>N!==s)}))},X=async s=>{const a=n[s];if(a)try{const d=a+" [Version améliorée par IA - style optimisé]";q(s,d),x({title:"Texte amélioré !",description:"Votre texte a été optimisé par l'IA."})}catch{x({title:"Erreur",description:"Impossible d'améliorer le texte pour le moment.",variant:"destructive"})}},Z=async s=>{const a=n[s];if(a)try{const N=a+` Mots-clés: ${(h==="provider"?["professionnel","expérimenté","qualité","délais"]:["partenariat","collaboration","projet","qualité"]).slice(0,2).join(", ")}.`;q(s,N),x({title:"Texte enrichi !",description:"Des mots-clés pertinents ont été ajoutés."})}catch{x({title:"Erreur",description:"Impossible d'enrichir le texte pour le moment.",variant:"destructive"})}},Ie=async s=>{const a=n[s];if(a)try{const N=a+(h==="provider"?" Contactez-moi pour discuter de votre projet !":" N'hésitez pas à nous contacter pour échanger !");q(s,N),x({title:"Appel à l'action ajouté !",description:"Un appel à l'action engageant a été ajouté."})}catch{x({title:"Erreur",description:"Impossible d'ajouter l'appel à l'action.",variant:"destructive"})}},De=async s=>{const a=n[s];if(a)try{const d=a.split(". "),N=d.map((P,le)=>le===0?`✓ ${P}`:le<d.length-1?`• ${P}`:P).join(". ");q(s,N),x({title:"Texte structuré !",description:"La structure de votre texte a été améliorée."})}catch{x({title:"Erreur",description:"Impossible de structurer le texte.",variant:"destructive"})}},ie=async()=>{try{const s=h==="provider"?["développement web","react","nodejs","consultation","formation"]:["projet digital","marketing","e-commerce","startup","innovation"],a=[...n.keywords||[],...s.slice(0,3)],d=Array.from(new Set(a));q("keywords",d),x({title:"Mots-clés suggérés !",description:`${s.slice(0,3).length} nouveaux mots-clés ajoutés par l'IA.`})}catch{x({title:"Erreur",description:"Impossible de générer des suggestions pour le moment.",variant:"destructive"})}},q=(s,a)=>{m(d=>({...d,[s]:a}))};return r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mon Profil"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(c,{onClick:()=>_(!i),variant:i?"outline":"default",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),i?"Annuler":"Modifier"]})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-lg border",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Changer de mode"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>ae("client"),className:`flex items-center px-6 py-3 rounded-lg font-medium transition-all ${h==="client"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(O,{className:"w-5 h-5 mr-2"}),"Mode Client"]}),e.jsxs("button",{onClick:()=>ae("provider"),className:`flex items-center px-6 py-3 rounded-lg font-medium transition-all ${h==="provider"?"bg-green-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(V,{className:"w-5 h-5 mr-2"}),"Mode Prestataire"]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:h==="client"?"Publiez des missions et trouvez des prestataires":"Recherchez des missions et proposez vos services"})]})})]}),e.jsx(Ye,{profileData:n,activeProfile:h,isEditing:i}),e.jsxs(Re,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(qe,{className:"grid w-full grid-cols-3 md:grid-cols-6 gap-1 md:gap-0 h-auto md:h-10 p-1",children:[e.jsxs(L,{value:"general",className:"flex flex-col md:flex-row items-center justify-center px-1 md:px-3 py-2 md:py-1.5 text-xs md:text-sm min-w-0",children:[e.jsx(ve,{className:"w-3 h-3 md:w-4 md:h-4 md:mr-2 mb-1 md:mb-0 flex-shrink-0"}),e.jsx("span",{className:"text-center leading-tight",children:"Infos"})]}),e.jsxs(L,{value:"ai-analysis",className:"flex flex-col md:flex-row items-center justify-center px-1 md:px-3 py-2 md:py-1.5 text-xs md:text-sm min-w-0",children:[e.jsx(T,{className:"w-3 h-3 md:w-4 md:h-4 md:mr-2 mb-1 md:mb-0 flex-shrink-0"}),e.jsx("span",{className:"text-center leading-tight",children:"IA"})]}),e.jsxs(L,{value:"skills",className:"flex flex-col md:flex-row items-center justify-center px-1 md:px-3 py-2 md:py-1.5 text-xs md:text-sm min-w-0",children:[e.jsx(O,{className:"w-3 h-3 md:w-4 md:h-4 md:mr-2 mb-1 md:mb-0 flex-shrink-0"}),e.jsx("span",{className:"text-center leading-tight",children:"Skills"})]}),e.jsxs(L,{value:"portfolio",className:"flex flex-col md:flex-row items-center justify-center px-1 md:px-3 py-2 md:py-1.5 text-xs md:text-sm min-w-0",children:[e.jsx(O,{className:"w-3 h-3 md:w-4 md:h-4 md:mr-2 mb-1 md:mb-0 flex-shrink-0"}),e.jsx("span",{className:"text-center leading-tight",children:"Portfolio"})]}),e.jsxs(L,{value:"availability",className:"flex flex-col md:flex-row items-center justify-center px-1 md:px-3 py-2 md:py-1.5 text-xs md:text-sm min-w-0",children:[e.jsx(B,{className:"w-3 h-3 md:w-4 md:h-4 md:mr-2 mb-1 md:mb-0 flex-shrink-0"}),e.jsx("span",{className:"text-center leading-tight",children:"Agenda"})]}),e.jsxs(L,{value:"preferences",className:"flex flex-col md:flex-row items-center justify-center px-1 md:px-3 py-2 md:py-1.5 text-xs md:text-sm min-w-0",children:[e.jsx(H,{className:"w-3 h-3 md:w-4 md:h-4 md:mr-2 mb-1 md:mb-0 flex-shrink-0"}),e.jsx("span",{className:"text-center leading-tight",children:"Prefs"})]})]}),e.jsx($,{value:"ai-analysis",children:e.jsx(Xe,{userProfile:n,userType:h,onApplySuggestion:Ne})}),e.jsxs($,{value:"general",className:"space-y-6",children:[e.jsxs(j,{children:[e.jsx(D,{children:e.jsxs(z,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Informations générales"}),e.jsxs(S,{variant:"outline",className:"bg-blue-50 text-blue-600 border-blue-200",children:[e.jsx(T,{className:"w-4 h-4 mr-1"}),"Assistant IA activé"]})]})}),e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(A,{htmlFor:"name",children:"Nom complet"}),e.jsx(w,{id:"name",value:n.name,onChange:s=>m(a=>({...a,name:s.target.value})),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"email",children:"Email"}),e.jsx(w,{id:"email",type:"email",value:n.email,onChange:s=>m(a=>({...a,email:s.target.value})),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"phone",children:"Téléphone"}),e.jsx(w,{id:"phone",value:n.phone,onChange:s=>m(a=>({...a,phone:s.target.value})),disabled:!i,placeholder:"+33 6 12 34 56 78"})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"location",children:"Localisation"}),e.jsx(w,{id:"location",value:n.location,onChange:s=>m(a=>({...a,location:s.target.value})),disabled:!i,placeholder:"Paris, France"})]})]})]}),e.jsxs(j,{children:[e.jsx(D,{children:e.jsx(z,{children:h==="client"?"À propos de votre entreprise":"À propos de vous"})}),e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(A,{htmlFor:"bio",children:"Description"}),e.jsxs("div",{className:"relative",children:[e.jsx(Y,{id:"bio",value:n.bio||"",onChange:s=>q("bio",s.target.value),placeholder:h==="client"?"Décrivez votre entreprise et vos besoins...":"Présentez-vous et vos services...",rows:4,disabled:!i}),i&&e.jsx(Ze,{inputValue:n.bio,onSuggestionApply:fe("bio"),context:{field:"bio",category:"profile",userType:h}})]}),i&&e.jsxs(j,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:[e.jsx(D,{className:"pb-3",children:e.jsxs(z,{className:"flex items-center gap-2 text-sm",children:[e.jsx(T,{className:"h-4 w-4 text-blue-600"}),"Assistant IA - Améliorer votre description"]})}),e.jsx(v,{className:"pt-0",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(c,{onClick:()=>X("bio"),variant:"outline",size:"sm",className:"border-blue-200 hover:bg-blue-50 text-blue-700",children:[e.jsx(J,{className:"h-3 w-3 mr-2"}),"Améliorer le style"]}),e.jsxs(c,{onClick:()=>Z("bio"),variant:"outline",size:"sm",className:"border-green-200 hover:bg-green-50 text-green-700",children:[e.jsx(E,{className:"h-3 w-3 mr-2"}),"Enrichir avec mots-clés"]}),e.jsxs(c,{onClick:()=>Ie("bio"),variant:"outline",size:"sm",className:"border-orange-200 hover:bg-orange-50 text-orange-700",children:[e.jsx(te,{className:"h-3 w-3 mr-2"}),"Ajouter un appel à l'action"]}),e.jsxs(c,{onClick:()=>De("bio"),variant:"outline",size:"sm",className:"border-purple-200 hover:bg-purple-50 text-purple-700",children:[e.jsx(Ve,{className:"h-3 w-3 mr-2"}),"Structurer le texte"]})]})})]})]}),h==="client"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(A,{htmlFor:"company",children:"Entreprise"}),e.jsx(w,{id:"company",value:n.company,onChange:s=>m(a=>({...a,company:s.target.value})),disabled:!i,placeholder:"Nom de votre entreprise"})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"industry",children:"Secteur d'activité"}),e.jsx(w,{id:"industry",value:n.industry,onChange:s=>m(a=>({...a,industry:s.target.value})),disabled:!i,placeholder:"Ex: Tech, Marketing, Finance..."})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(A,{htmlFor:"experience",children:"Expérience"}),e.jsx(Y,{id:"experience",value:n.experience,onChange:s=>m(a=>({...a,experience:s.target.value})),disabled:!i,placeholder:"Décrivez votre expérience professionnelle...",rows:3}),i&&e.jsx(j,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:e.jsxs(v,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(T,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:"IA - Optimiser votre expérience"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(c,{onClick:()=>X("experience"),variant:"outline",size:"sm",className:"border-green-200 hover:bg-green-50 text-green-700",children:[e.jsx(J,{className:"h-3 w-3 mr-2"}),"Perfectionner"]}),e.jsxs(c,{onClick:()=>Z("experience"),variant:"outline",size:"sm",className:"border-blue-200 hover:bg-blue-50 text-blue-700",children:[e.jsx(E,{className:"h-3 w-3 mr-2"}),"Ajouter expertise"]})]})]})})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"hourlyRate",children:"Tarif horaire (€)"}),e.jsx(w,{id:"hourlyRate",type:"number",value:n.hourlyRate,onChange:s=>m(a=>({...a,hourlyRate:s.target.value})),disabled:!i,placeholder:"50"})]})]})]})]})]}),h==="provider"&&e.jsxs(e.Fragment,{children:[e.jsx($,{value:"skills",className:"space-y-6",children:e.jsx(es,{skills:n.skills,newSkill:C,newSkillRate:M,newSkillCategory:p,isEditing:i,onNewSkillChange:f,onNewSkillRateChange:o,onNewSkillCategoryChange:u,onAddSkill:we,onRemoveSkill:Ce,onUpdateSkillRate:ke,onAIKeywordSuggestion:ie})}),e.jsx($,{value:"portfolio",children:e.jsxs(j,{children:[e.jsx(D,{children:e.jsx(z,{children:"Portfolio"})}),e.jsx(v,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.portfolio.map((s,a)=>e.jsx(j,{className:"border",children:e.jsxs(v,{className:"p-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:s.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.description})]})},a))}),i&&e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Ajouter un projet"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(w,{value:k.title,onChange:s=>F(a=>({...a,title:s.target.value})),placeholder:"Titre du projet"}),e.jsx(Y,{value:k.description,onChange:s=>F(a=>({...a,description:s.target.value})),placeholder:"Description du projet",rows:3}),e.jsxs(c,{onClick:Ae,children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Ajouter"]})]})]})]})})]})}),e.jsxs($,{value:"availability",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(j,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:e.jsxs(v,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-700 mb-1",children:n.calendarAvailability.length}),e.jsx("div",{className:"text-sm text-green-600",children:"Créneaux libres"}),e.jsx("div",{className:"text-xs text-green-500 mt-1",children:"cette semaine"})]})}),e.jsx(j,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:e.jsxs(v,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700 mb-1",children:"32h"}),e.jsx("div",{className:"text-sm text-blue-600",children:"Disponibles"}),e.jsx("div",{className:"text-xs text-blue-500 mt-1",children:"ce mois-ci"})]})}),e.jsx(j,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:e.jsxs(v,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-700 mb-1",children:n.availability?"ON":"OFF"}),e.jsx("div",{className:"text-sm text-purple-600",children:"Statut"}),e.jsx("div",{className:"text-xs text-purple-500 mt-1",children:n.availability?"Disponible":"Indisponible"})]})})]}),e.jsxs(j,{children:[e.jsx(D,{children:e.jsxs(z,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"w-5 h-5 mr-2 text-blue-600"}),"Statut de disponibilité"]}),e.jsx(ne,{checked:n.availability,onCheckedChange:s=>m(a=>({...a,availability:s})),disabled:!i})]})}),e.jsx(v,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`p-4 rounded-lg border ${n.availability?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:n.availability?"✅ Disponible pour nouveaux projets":"⏸️ Indisponible"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.availability?"Votre profil est visible aux clients potentiels":"Votre profil est masqué des recherches"})]}),n.availability&&e.jsxs(S,{className:"bg-green-100 text-green-800",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"En ligne"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center",children:[e.jsx(E,{className:"h-4 w-4 mr-2 text-blue-500"}),"Planning intelligent"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>{const s=new Date;s.setDate(s.getDate()+1),s.setHours(9,0,0,0);const a=new Date(s);a.setHours(17,0,0,0),l({start:s,end:a}),i&&re()},disabled:!i,children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Ajouter demain (9h-17h)"]}),e.jsxs(c,{variant:"outline",size:"sm",className:"w-full justify-start",disabled:!i,children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Créneaux récurrents"]}),e.jsxs(c,{variant:"outline",size:"sm",className:"w-full justify-start",disabled:!i,children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"IA: Optimiser planning"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center",children:[e.jsx(K,{className:"h-4 w-4 mr-2 text-green-500"}),"Recommandations"]}),e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsxs("div",{className:"flex items-center text-green-700 bg-green-50 p-2 rounded",children:[e.jsx(U,{className:"h-3 w-3 mr-2"}),"Les matinées sont 40% plus demandées"]}),e.jsxs("div",{className:"flex items-center text-blue-700 bg-blue-50 p-2 rounded",children:[e.jsx(K,{className:"h-3 w-3 mr-2"}),"Mardi-Jeudi: peak de demandes"]}),e.jsxs("div",{className:"flex items-center text-purple-700 bg-purple-50 p-2 rounded",children:[e.jsx(E,{className:"h-3 w-3 mr-2"}),"+25% de tarif en urgence possible"]})]})]})]})]})})]}),e.jsxs(j,{children:[e.jsx(D,{children:e.jsxs(z,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Gestion des créneaux"}),i&&e.jsxs(c,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{const s=new Date;s.setDate(s.getDate()+1),s.setHours(9,0,0,0);const a=new Date(s);a.setHours(17,0,0,0),l({start:s,end:a})},children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Ajout rapide"]})]})}),e.jsx(v,{children:e.jsxs("div",{className:"space-y-6",children:[i&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-4 text-blue-800",children:"Nouveau créneau de disponibilité"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(A,{htmlFor:"availabilityStart",className:"text-sm font-medium text-gray-700",children:"Date et heure de début"}),e.jsx(w,{id:"availabilityStart",type:"datetime-local",value:t?.start.toISOString().slice(0,16)||"",onChange:s=>{const a=new Date(s.target.value);l(d=>({...d||{start:new Date,end:new Date},start:a}))},className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(A,{htmlFor:"availabilityEnd",className:"text-sm font-medium text-gray-700",children:"Date et heure de fin"}),e.jsx(w,{id:"availabilityEnd",type:"datetime-local",value:t?.end.toISOString().slice(0,16)||"",onChange:s=>{const a=new Date(s.target.value);l(d=>({...d||{start:new Date,end:new Date},end:a}))},className:"mt-1"})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{const s=new Date;s.setHours(9,0,0,0);const a=new Date(s);a.setHours(17,0,0,0),l({start:s,end:a})},children:"Aujourd'hui 9h-17h"}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{const s=new Date;s.setDate(s.getDate()+1),s.setHours(9,0,0,0);const a=new Date(s);a.setHours(17,0,0,0),l({start:s,end:a})},children:"Demain 9h-17h"})]}),e.jsxs(c,{onClick:re,disabled:!t||!t.start||!t.end||t.start>=t.end,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Ajouter créneau"]})]})]}),n.calendarAvailability.length>0?e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[e.jsx(B,{className:"h-4 w-4 mr-2 text-green-500"}),"Mes créneaux de disponibilité (",n.calendarAvailability.length,")"]}),e.jsx("div",{className:"space-y-3",children:n.calendarAvailability.map((s,a)=>{const d=Math.round((s.end.getTime()-s.start.getTime())/36e5),N=s.start.toDateString()===new Date().toDateString(),P=s.end<new Date;return e.jsx("div",{className:`p-4 rounded-lg border transition-all group ${P?"bg-gray-50 border-gray-200 opacity-50":N?"bg-green-50 border-green-300 shadow-md":"bg-white border-gray-200 hover:border-blue-300 hover:shadow-md"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${P?"bg-gray-400":N?"bg-green-500":"bg-blue-500"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-800",children:s.start.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})}),e.jsxs("div",{className:"text-sm text-gray-600",children:[s.start.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})," - ",s.end.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[d,"h disponibles"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[N&&"Aujourd'hui",P&&"Passé"]})]}),i&&e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>Se(a),className:"text-red-500 hover:text-red-700 hover:bg-red-50 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(G,{className:"w-4 h-4"})})]})]})},a)})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ue,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Aucun créneau de disponibilité défini"}),e.jsx("p",{className:"text-sm text-gray-500",children:i?"Ajoutez vos créneaux pour que les clients puissent vous contacter":"Activez le mode édition pour gérer vos disponibilités"})]}),!i&&e.jsx("div",{className:"border-t pt-6",children:e.jsx(Le,{readOnly:!0,initialAvailability:[],onSave:s=>{m(a=>({...a,calendarAvailability:[]}))}})})]})})]})]})]}),e.jsx($,{value:"preferences",children:e.jsxs(j,{children:[e.jsx(D,{children:e.jsx(z,{children:"Préférences"})}),e.jsx(v,{className:"space-y-4",children:h==="provider"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Disponible pour de nouveaux projets"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Afficher votre profil aux clients"})]}),e.jsx(ne,{checked:n.availability,onCheckedChange:s=>m(a=>({...a,availability:s})),disabled:!i})]})})]})})]}),i&&e.jsxs("div",{className:"flex justify-between items-center mt-8",children:[e.jsxs(c,{onClick:()=>R(!y),variant:"outline",className:"bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200 text-purple-700 hover:from-purple-100 hover:to-blue-100",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),y?"Masquer":"Afficher"," l'Assistant IA"]}),e.jsxs(c,{onClick:ye,className:"bg-green-600 hover:bg-green-700 shadow-lg",children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"Sauvegarder les modifications"]})]}),y&&i&&e.jsxs(j,{className:"mt-6 border-2 border-purple-200 bg-gradient-to-r from-purple-50 to-blue-50",children:[e.jsx(D,{children:e.jsxs(z,{className:"flex items-center gap-2 text-purple-800",children:[e.jsx(T,{className:"h-5 w-5"}),"Assistant IA Global"]})}),e.jsx(v,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs(c,{onClick:ie,variant:"outline",className:"border-purple-200 hover:bg-purple-50 text-purple-700",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Suggérer mots-clés"]}),e.jsxs(c,{onClick:()=>X("bio"),variant:"outline",className:"border-blue-200 hover:bg-blue-50 text-blue-700",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Améliorer description"]}),e.jsxs(c,{onClick:()=>Z("bio"),variant:"outline",className:"border-green-200 hover:bg-green-50 text-green-700",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Enrichir profil"]})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsx(j,{className:"max-w-md w-full mx-4",children:e.jsxs(v,{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connexion requise"}),e.jsx("p",{className:"text-gray-600",children:"Connectez-vous pour accéder à votre profil"})]})})})}export{Ts as default};
